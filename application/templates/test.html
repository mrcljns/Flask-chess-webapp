{% extends "layout.html" %}
{% block content %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


<div class="row p-4">
  <div class="d-flex justify-content-center position-absolute text-center">
    <button id="previous">Previous Move</button>
    <button id="next">Next Move</button>
  </div>
</div>

<div class="row p-4">
    {% for pgn in pgn_list %}
      <div class="d-flex justify-content-center text-center position-absolute invisible" id="board{{loop.index}}">
        {{pgn | safe}}
      </div>
    {% endfor %}
</div>


<script>
  var count = 0;
  const list_len = {{ length }};
  $("#next").on('click', function(){
    if (count<list_len){
      $("#board" + count).removeClass("visible");
      $("#board" + count - 1).addClass("invisible");
      count++;
      $("#board" + count).removeClass("invisible");
      $("#board" + count).addClass("visible");
    }
  });
  $("#previous").on('click', function(){
    if (count>1){
      $("#board" + count).removeClass("visible");
      $("#board" + count).addClass("invisible");
      count--;
      $("#board" + count).removeClass("invisible");
      $("#board" + count).addClass("visible");
    }
  });
</script>

{% endblock content %}